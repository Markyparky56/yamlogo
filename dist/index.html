<!DOCTYPE html>
<html>
    <head>
        <title>YAM Logo Designer</title>
        <meta charset="UTF-8">
        <meta name="author" content="Mark A. Ropper">
        <link rel="stylesheet" type="text/css" href="yamlogo.css">
        <link rel="stylesheet" type="text/css" href="spectrum.css">
        <link rel="stylesheet" type="text/css" href="jquery-ui.css">
        <!--WebGL Shaders-->
        <script id="circle-vs" type="x-shader/x-vertex">#version 300 es
            in vec3 aVertexPosition;
            in vec4 aVertexColour;

            uniform mat4 uMVMatrix; // Model+View Matrix
            uniform mat4 uPMatrix; // Perspective Matrix (we use an orthographic matrix)

            out vec4 vColour;

            void main(void)
            {
                gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
                vColour = aVertexColour;
            }
        </script>
        <script id="circle-fs" type="x-shader/x-fragment">#version 300 es
            precision lowp float; // Low percision is fine for regular rgba colour
            
            in vec4 vColour;            
            
            out vec4 outColour;
           
            void main(void)
            {
                outColour = vColour;
            }
        </script>
        <script id="stenciltexture-vs" type="x-shader/x-vertex">#version 300 es
            in vec3 aVertexPosition;
            in vec2 aTexCoord;

            uniform mat4 uMVMatrix;
            uniform mat4 uPMatrix;
            
            out vec2 vTexCoord;

            void main(void)
            {
                gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
                vTexCoord = aTexCoord;                
            }
        </script>
        <script id="stenciltexture-fs" type="x-shader/x-fragment">#version 300 es
            precision highp float;
            
            uniform sampler2D tex;
            uniform int uInvert;
            uniform float uAlphaThreshold; // If you want a rainbow waveform set to true           
            
            in vec2 vTexCoord;                        

            out vec4 outColour;

            void main(void)
            {
                outColour = texture(tex, vTexCoord);
                if((outColour.a > uAlphaThreshold && uInvert == 0)
                || (outColour.a < uAlphaThreshold && uInvert > 0))
                {
                    discard;
                }               
            }
        </script>
        <script id="texture-vs" type="x-shader/x-vertex">#version 300 es
            in vec3 aVertexPosition;
            in vec2 aTexCoord;

            uniform mat4 uMVMatrix;
            uniform mat4 uPMatrix;

            out vec2 vTexCoord;

            void main(void)
            {
                gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
                vTexCoord = aTexCoord;
            }
        </script>
        <script id="texture-fs" type="x-shader/x-fragment">#version 300 es
            uniform sampler2D tex;
            
            precision highp float;
            in vec2 vTexCoord;

            out vec4 outColour;

            void main(void)
            {                
                outColour = texture(tex, vTexCoord);
                /*if(outColour.a < 0.25)
                {
                    discard;
                }*/
            }
        </script>

        <script src="https://code.jquery.com/jquery-3.2.1.min.js" type="text/javascript"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
        <script src="spectrum.js" type="text/javascript"></script>
    </head>

    <body>
        <div id="maincontent">
            <div id="logo">
                <canvas id="logoCanvas" width="1024" height="1024">
                    Please use a browser that supports the canvas element. :(
                </canvas>
                <script type="text/javascript" src="bundle.js"></script>
            </div>

            <div id="controls">
                <div id="colourControls">
                    <div id="centreColourControl">
                        Centre Colour<br>
                        <input type="text" id="centreColourPicker">
                    </div>
                    <div id="backgroundColourControl">
                        Background Colour<br>
                        <input type="text" id="backgroundColourPicker">
                    </div>
                </div>
                <br>
                <div id="radiusControls">
                    Disc Radius:<span id="radiusValue">0.9</span><br>
                    <div id="radiusSlider"></div>
                </div>
                <br>
                <div id="waveformControls">
                    Waveform Enabled:
                    <input id="waveformToggle" type="checkbox" checked="checked" onchange="controls.refresh()">
                    <br>
                    Waveform <i>As Stencil</i> Enabled:
                    <input id="waveformStencilToggle" type="checkbox" checked="checked" onchange="controls.refresh()">
                    Invert stencil:
                    <input id="waveformStencilInvertToggle" type="checkbox" onchange="controls.refresh()">
                    <br>
                    <div id="stencilAlphaSlider">
                        Stencil Alpha Threshold:<span id="stencilAlphaThresholdValue">0.25</span><br>
                        <div id="stencilAlphaThresholdSlider"></div>
                    </div>
                    <br>
                    Selected Waveform:
                    <br>
                    <div class="waveformSelector">
                        <input id="jesus009" type="radio" name="waveform" value="0" onchange="controls.refresh()">
                        <label class="waveformSelectable waveform009" for="jesus009"></label>
                        <input id="jesus0097" type="radio" name="waveform" value="1" onchange="controls.refresh()">
                        <label class="waveformSelectable waveform0097" for="jesus0097"></label>
                        <input id="jesus0125" type="radio" name="waveform" value="2" onchange="controls.refresh()">
                        <label class="waveformSelectable waveform0125" for="jesus0125"></label>
                        <input id="jesus015" type="radio" name="waveform" value="3" checked="checked" onchange="controls.refresh()">
                        <label class="waveformSelectable waveform015" for="jesus015"></label>                        
                    </div>
                    <br>
                    
                </div>

                <script src="controls.js"></script>
            </div>
        </div>
    </body>
</html>